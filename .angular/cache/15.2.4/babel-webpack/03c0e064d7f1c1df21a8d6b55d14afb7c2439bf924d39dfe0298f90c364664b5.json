{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction CartComponent_form_4_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"Your cart is empty.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CartComponent_form_4_tr_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 11)(1, \"td\");\n    i0.ɵɵelement(2, \"input\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelement(4, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelement(6, \"input\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelement(8, \"input\", 15);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r4 = ctx.index;\n    i0.ɵɵproperty(\"formGroupName\", i_r4);\n  }\n}\nfunction CartComponent_form_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 1);\n    i0.ɵɵlistener(\"ngSubmit\", function CartComponent_form_4_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.processForm());\n    });\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\")(3, \"label\");\n    i0.ɵɵtext(4, \"Name: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelement(6, \"input\", 2);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"tr\")(8, \"td\")(9, \"label\");\n    i0.ɵɵtext(10, \"Address: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵelement(12, \"input\", 3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"tr\")(14, \"td\")(15, \"label\");\n    i0.ɵɵtext(16, \"Delivery: \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵelement(18, \"input\", 4);\n    i0.ɵɵelementStart(19, \"label\");\n    i0.ɵɵtext(20, \"AM\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"input\", 5);\n    i0.ɵɵelementStart(22, \"label\");\n    i0.ɵɵtext(23, \"PM\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(24, \"br\")(25, \"br\");\n    i0.ɵɵelementStart(26, \"table\", 6)(27, \"thead\")(28, \"th\");\n    i0.ɵɵtext(29, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\");\n    i0.ɵɵtext(31, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"th\");\n    i0.ɵɵtext(33, \"Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"th\");\n    i0.ɵɵtext(35, \"Total\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(36, CartComponent_form_4_div_36_Template, 3, 0, \"div\", 7);\n    i0.ɵɵelementStart(37, \"tbody\", 8);\n    i0.ɵɵtemplate(38, CartComponent_form_4_tr_38_Template, 9, 1, \"tr\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(39, \"br\");\n    i0.ɵɵelementStart(40, \"button\", 10);\n    i0.ɵɵtext(41, \"Cart Out\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(42, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.form);\n    i0.ɵɵadvance(36);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.cart123 == null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.cartArray.controls);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.form.invalid);\n  }\n}\nexport let CartComponent = /*#__PURE__*/(() => {\n  class CartComponent {\n    constructor(fb) {\n      this.fb = fb;\n      this.formSubmitted = new Subject();\n    }\n    ngOnChanges(changes) {\n      if (this.cartArray !== undefined) this.cartArray.clear();\n      this.cart123?.items.forEach(x => this.addFormItem(x));\n    }\n    ngOnInit() {\n      this.cartArray = this.fb.array([]);\n      this.form = this.createForm();\n      console.log(this.cart123.items.length);\n    }\n    createForm() {\n      const grp = this.fb.group({\n        name: this.fb.control(\"\", [Validators.required]),\n        address: this.fb.control(\"\", [Validators.required]),\n        delivery: this.fb.control(\"\", [Validators.required, Validators.pattern(\"^[P|A]M$\")]),\n        items: this.cartArray\n      });\n      return grp;\n    }\n    addFormItem(item) {\n      const grp = this.fb.group({\n        name: this.fb.control(item.name, [Validators.required]),\n        price: this.fb.control(item.price, [Validators.required]),\n        quantity: this.fb.control(item.quantity, [Validators.required]),\n        total: this.fb.control(item.quantity * item.price, [Validators.required])\n      });\n      this.cartArray.push(grp);\n    }\n    processForm() {\n      this.formSubmitted.next(true);\n      console.log(this.cart123.id);\n      this.form.reset();\n    }\n  }\n  CartComponent.ɵfac = function CartComponent_Factory(t) {\n    return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n  };\n  CartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CartComponent,\n    selectors: [[\"app-cart\"]],\n    inputs: {\n      cart123: \"cart123\"\n    },\n    outputs: {\n      formSubmitted: \"formSubmitted\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 5,\n    vars: 1,\n    consts: [[3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"formControlName\", \"name\"], [\"type\", \"text\", \"formControlName\", \"address\"], [\"type\", \"radio\", \"value\", \"AM\", \"id\", \"AM\", \"formControlName\", \"delivery\"], [\"type\", \"radio\", \"value\", \"PM\", \"id\", \"PM\", \"formControlName\", \"delivery\", \"checked\", \"\"], [\"border\", \"1\"], [4, \"ngIf\"], [\"formArrayName\", \"items\"], [3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 3, \"disabled\"], [3, \"formGroupName\"], [\"type\", \"text\", \"readonly\", \"\", \"formControlName\", \"name\"], [\"type\", \"text\", \"readonly\", \"\", \"formControlName\", \"price\"], [\"type\", \"text\", \"readonly\", \"\", \"formControlName\", \"quantity\"], [\"type\", \"text\", \"readonly\", \"\", \"formControlName\", \"total\"]],\n    template: function CartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"br\")(1, \"hr\");\n        i0.ɵɵelementStart(2, \"h2\");\n        i0.ɵɵtext(3, \"Cart\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, CartComponent_form_4_Template, 43, 4, \"form\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.cart123 !== null);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.RadioControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.FormArrayName]\n  });\n  return CartComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}