{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"./cart/cart.component\";\nimport * as i3 from \"./inventory/inventory.component\";\nfunction AppComponent_h3_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Thank you for your purchase. Your cart id is \", ctx_r0.cart.id, \". \");\n  }\n}\nexport class AppComponent {\n  constructor() {\n    this.title = 'fruit_cart_v3';\n    this.inventoryItem = [{\n      id: 1,\n      name: 'apple',\n      quantity: 1,\n      price: 0.9\n    }, {\n      id: 2,\n      name: 'blueberries',\n      quantity: 1,\n      price: 1.1\n    }, {\n      id: 3,\n      name: 'celery',\n      quantity: 1,\n      price: 1.3\n    }];\n  }\n  addtoCart(item) {\n    if (this.cart === undefined) {\n      this.cart = {\n        id: this.generateId(),\n        name: \"\",\n        address: \"\",\n        delivery: \"\",\n        items: [item]\n      };\n    } else {\n      let idx = this.cart.items.findIndex(x => x.name === item.name);\n      // console.log(item.name);\n      // console.log(\"idx\", idx);\n      if (idx === -1) {\n        this.cart.items.push(item);\n        // console.log(\"push >>> \", item);\n      } else {\n        // console.log(\"add quantity >>> \", item);\n        this.cart.items[idx].quantity += item.quantity;\n      }\n    }\n    this.cart = {\n      ...this.cart\n    };\n    console.info(this.cart);\n  }\n  generateId() {\n    return Math.random().toString(36).slice(2, 10);\n  }\n  formSubmission(formSubmitted) {\n    this.formSubmitted == true;\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)();\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 3,\n  vars: 3,\n  consts: [[3, \"item\", \"onAddItem\"], [3, \"cart123\", \"formSubmitted\"], [4, \"ngIf\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"app-inventory\", 0);\n      i0.ɵɵlistener(\"onAddItem\", function AppComponent_Template_app_inventory_onAddItem_0_listener($event) {\n        return ctx.addtoCart($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(1, \"app-cart\", 1);\n      i0.ɵɵlistener(\"formSubmitted\", function AppComponent_Template_app_cart_formSubmitted_1_listener() {\n        return ctx.formSubmission(ctx.boolean);\n      });\n      i0.ɵɵtemplate(2, AppComponent_h3_2_Template, 2, 1, \"h3\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"item\", ctx.inventoryItem);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"cart123\", ctx.cart);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted == true);\n    }\n  },\n  dependencies: [i1.NgIf, i2.CartComponent, i3.InventoryComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAKIA,0BAAkC;IAC9BA,YAEJ;IAAAA,iBAAK;;;;IAFDA,eAEJ;IAFIA,6FAEJ;;;ACAJ,OAAM,MAAOC,YAAY;EALzBC;IAME,UAAK,GAAG,eAAe;IAMvB,kBAAa,GAAW,CACxB;MAACC,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,OAAO;MAAEC,QAAQ,EAAE,CAAC;MAAEC,KAAK,EAAE;IAAG,CAAC,EAC/C;MAACH,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,aAAa;MAAEC,QAAQ,EAAC,CAAC;MAAEC,KAAK,EAAE;IAAG,CAAC,EACpD;MAACH,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE,QAAQ;MAAEC,QAAQ,EAAC,CAAC;MAAEC,KAAK,EAAE;IAAG,CAAC,CAChD;;EAEDC,SAAS,CAACC,IAAU;IAElB,IAAG,IAAI,CAACC,IAAI,KAAKC,SAAS,EAAE;MAC1B,IAAI,CAACD,IAAI,GAAG;QACZN,EAAE,EAAE,IAAI,CAACQ,UAAU,EAAE;QACrBP,IAAI,EAAC,EAAE;QACPQ,OAAO,EAAC,EAAE;QACVC,QAAQ,EAAC,EAAE;QACXC,KAAK,EAAE,CAACN,IAAI;OACX;KACF,MAAM;MAEL,IAAIO,GAAG,GAAG,IAAI,CAACN,IAAI,CAACK,KAAK,CAACE,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACb,IAAI,KAAKI,IAAI,CAACJ,IAAI,CAAC;MAC5D;MACA;MACA,IAAIW,GAAG,KAAK,CAAC,CAAC,EAAE;QACd,IAAI,CAACN,IAAI,CAACK,KAAK,CAACI,IAAI,CAACV,IAAI,CAAC;QAC1B;OACD,MAAM;QACL;QACA,IAAI,CAACC,IAAI,CAACK,KAAK,CAACC,GAAG,CAAC,CAACV,QAAQ,IAAIG,IAAI,CAACH,QAAQ;;;IAItD,IAAI,CAACI,IAAI,GAAG;MAAC,GAAI,IAAI,CAACA;IAAI,CAAC;IAC3BU,OAAO,CAACC,IAAI,CAAC,IAAI,CAACX,IAAI,CAAC;EACvB;EAEQE,UAAU;IAChB,OAAOU,IAAI,CAACC,MAAM,EAAE,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;EAChD;EAEAC,cAAc,CAACC,aAAsB;IAErC,IAAI,CAACA,aAAa,IAAI,IAAI;EAE1B;;AAjDazB,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDRzB/B,wCAAsE;MAAhCA;QAAA,OAAagC,qBAAiB;MAAA,EAAC;MAAChC,iBAAgB;MAGtFA,mCAAuE;MAA1CA;QAAA,OAAiBgC,+BAAuB;MAAA,EAAC;MAElEhC,2DAGK;MAETA,iBAAW;;;MAVIA,wCAAsB;MAG3BA,eAAkB;MAAlBA,kCAAkB;MAEnBA,eAA2B;MAA3BA,gDAA2B","names":["i0","AppComponent","constructor","id","name","quantity","price","addtoCart","item","cart","undefined","generateId","address","delivery","items","idx","findIndex","x","push","console","info","Math","random","toString","slice","formSubmission","formSubmitted","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\theho\\src\\fruit_cart_v3\\src\\app\\app.component.html","C:\\Users\\theho\\src\\fruit_cart_v3\\src\\app\\app.component.ts"],"sourcesContent":["<app-inventory [item]=\"inventoryItem\" (onAddItem)=\"addtoCart($event)\"></app-inventory>\n\n\n<app-cart [cart123] = \"cart\" (formSubmitted)=\"formSubmission(boolean)\">\n\n    <h3 *ngIf=\"formSubmitted == true\">\n        Thank you for your purchase.\n        Your cart id is {{this.cart.id}}.\n    </h3>\n    \n</app-cart>\n\n","import { Component } from '@angular/core';\nimport { Cart, Item } from './models';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'fruit_cart_v3';\n\n  cart!: Cart\n\n  formSubmitted!: boolean;\n\n  inventoryItem: Item[] = [\n  {id: 1, name: 'apple', quantity: 1, price: 0.9},\n  {id: 2, name: 'blueberries', quantity:1, price: 1.1},\n  {id: 3, name: 'celery', quantity:1, price: 1.3}\n]\n\naddtoCart(item: Item) {\n\n  if(this.cart === undefined) {\n    this.cart = {\n    id: this.generateId(),\n    name:\"\",\n    address:\"\",\n    delivery:\"\",\n    items: [item]\n    }\n  } else {\n\n    let idx = this.cart.items.findIndex(x => x.name === item.name);\n      // console.log(item.name);\n      // console.log(\"idx\", idx);\n      if (idx === -1) {\n        this.cart.items.push(item);\n        // console.log(\"push >>> \", item);\n      } else {\n        // console.log(\"add quantity >>> \", item);\n        this.cart.items[idx].quantity += item.quantity;\n      }\n    \n}\nthis.cart = {... this.cart};\nconsole.info(this.cart)\n}\n\nprivate generateId(): string {\n  return Math.random().toString(36).slice(2, 10);\n}\n\nformSubmission(formSubmitted: boolean) {\n\nthis.formSubmitted == true;\n\n} \n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}