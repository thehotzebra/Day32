{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction CartComponent_tr_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 9)(1, \"td\");\n    i0.ɵɵelement(2, \"input\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelement(4, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelement(6, \"input\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelement(8, \"input\", 13);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r2 = ctx.index;\n    i0.ɵɵproperty(\"formGroupName\", i_r2);\n  }\n}\nexport class CartComponent {\n  constructor(fb) {\n    this.fb = fb;\n  }\n  ngOnChanges(changes) {\n    if (this.cartArray !== undefined) this.cartArray.clear();\n    this.cart123?.items.forEach(x => this.addFormItem(x));\n  }\n  ngOnInit() {\n    this.cartArray = this.fb.array([]);\n    this.form = this.createForm();\n    console.log(this.cart123.items.length);\n  }\n  createForm() {\n    const grp = this.fb.group({\n      name: this.fb.control(\"\", [Validators.required]),\n      address: this.fb.control(\"\", [Validators.required]),\n      delivery: this.fb.control(\"\", [Validators.required, Validators.pattern(\"^[p|a]m$\")]),\n      items: this.cartArray\n    });\n    return grp;\n  }\n  addFormItem(item) {\n    const grp = this.fb.group({\n      name: this.fb.control(item.name, [Validators.required]),\n      price: this.fb.control(item.price, [Validators.required]),\n      quantity: this.fb.control(item.quantity, [Validators.required]),\n      total: this.fb.control(item.quantity * item.price, [Validators.required])\n    });\n    this.cartArray.push(grp);\n  }\n  processForm() {\n    console.info(this.form.value);\n    this.form.reset();\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  inputs: {\n    cart123: \"cart123\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 45,\n  vars: 3,\n  consts: [[\"(ngSubmit)*ngIf\", \"cart123\", 3, \"formGroup\"], [\"type\", \"text\", \"formControlName\", \"name\"], [\"type\", \"text\", \"formControlName\", \"address\"], [\"type\", \"radio\", \"value\", \"AM\", \"id\", \"AM\", \"formControlName\", \"delivery\"], [\"type\", \"radio\", \"value\", \"PM\", \"id\", \"PM\", \"formControlName\", \"delivery\", \"checked\", \"\"], [\"border\", \"1\"], [\"formArrayName\", \"items\"], [3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 3, \"disabled\"], [3, \"formGroupName\"], [\"type\", \"text\", \"readonly\", \"\", \"formControlName\", \"name\"], [\"type\", \"text\", \"readonly\", \"\", \"formControlName\", \"price\"], [\"type\", \"text\", \"readonly\", \"\", \"formControlName\", \"quantity\"], [\"type\", \"text\", \"readonly\", \"\", \"formControlName\", \"total\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"br\")(1, \"hr\");\n      i0.ɵɵelementStart(2, \"h2\");\n      i0.ɵɵtext(3, \"Cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 0)(5, \"tr\")(6, \"td\")(7, \"label\");\n      i0.ɵɵtext(8, \"Name: \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"td\");\n      i0.ɵɵelement(10, \"input\", 1);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"tr\")(12, \"td\")(13, \"label\");\n      i0.ɵɵtext(14, \"Address: \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"td\");\n      i0.ɵɵelement(16, \"input\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"tr\")(18, \"td\")(19, \"label\");\n      i0.ɵɵtext(20, \"Delivery: \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"td\");\n      i0.ɵɵelement(22, \"input\", 3);\n      i0.ɵɵelementStart(23, \"label\");\n      i0.ɵɵtext(24, \"AM\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 4);\n      i0.ɵɵelementStart(26, \"label\");\n      i0.ɵɵtext(27, \"PM\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(28, \"br\")(29, \"br\");\n      i0.ɵɵelementStart(30, \"table\", 5)(31, \"thead\")(32, \"th\");\n      i0.ɵɵtext(33, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"th\");\n      i0.ɵɵtext(35, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"th\");\n      i0.ɵɵtext(37, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"th\");\n      i0.ɵɵtext(39, \"Total\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(40, \"tbody\", 6);\n      i0.ɵɵtemplate(41, CartComponent_tr_41_Template, 9, 1, \"tr\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(42, \"br\");\n      i0.ɵɵelementStart(43, \"button\", 8);\n      i0.ɵɵtext(44, \"Cart Out\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(37);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cartArray.controls);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n    }\n  },\n  dependencies: [i2.NgForOf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.RadioControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i1.FormArrayName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","CartComponent","constructor","fb","ngOnChanges","changes","cartArray","undefined","clear","cart123","items","forEach","x","addFormItem","ngOnInit","array","form","createForm","console","log","length","grp","group","name","control","required","address","delivery","pattern","item","price","quantity","total","push","processForm","info","value","reset","selectors","inputs","features","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\theho\\src\\fruit_cart_v3\\src\\app\\cart\\cart.component.ts","C:\\Users\\theho\\src\\fruit_cart_v3\\src\\app\\cart\\cart.component.html"],"sourcesContent":["import { Component, Input, OnInit, Output, OnDestroy, SimpleChanges, OnChanges } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators, FormArray } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { Cart, Item } from '../models';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit, OnChanges {\n\n  @Input()\n  cart123!: Cart\n  \n  form!: FormGroup\n  cartArray!: FormArray\n  totalPrice!: number\n\n  constructor(private fb: FormBuilder) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    if(this.cartArray !==undefined) this.cartArray.clear();\n\n    this.cart123?.items.forEach(x => this.addFormItem(x))\n\n  } \n  ngOnInit(): void {\n    this.cartArray = this.fb.array([])\n    this.form = this.createForm()\n    console.log(this.cart123.items.length)\n  }\n\n  private createForm(): FormGroup {\n    const grp = this.fb.group({\n      name: this.fb.control<string>(\"\", [ Validators.required ]),\n      address: this.fb.control<string>(\"\", [ Validators.required ]),\n      delivery: this.fb.control<string>(\"\", [ Validators.required, Validators.pattern(\"^[p|a]m$\") ]),\n      items: this.cartArray\n    })\n\n    return grp;\n  }\n\n  addFormItem(item: Item) {\n\n    const grp = this.fb.group({\n      name: this.fb.control<string>(item.name, [Validators.required]),\n      price: this.fb.control<number>(item.price, [Validators.required]),\n      quantity: this.fb.control<number>(item.quantity, [Validators.required]),\n      total: this.fb.control<number>(item.quantity * item.price , [Validators.required])\n    \n    })\n    this.cartArray.push(grp)\n  }\n\n  processForm() {\n\n    console.info(this.form.value)\n    this.form.reset()\n  }\n}\n","<br>\n<hr>\n<h2>Cart</h2>\n\n<form [formGroup]=\"form\" (ngSubmit)*ngIf=\"cart123\"> \n    <tr>\n        <td>\n            <label>Name: </label>\n        </td>\n        <td>\n            <input type=\"text\" formControlName=\"name\">\n        </td>\n    </tr>\n    <tr>\n        <td>\n            <label>Address: </label>\n        </td>\n        <td>\n            <input type=\"text\" formControlName=\"address\">\n        </td>\n    </tr>\n    <tr>\n        <td>\n            <label>Delivery: </label>\n        </td>\n        <td>\n            <input type=\"radio\" value=\"AM\" id=\"AM\" formControlName=\"delivery\">\n            <label>AM</label>\n            <input type=\"radio\" value=\"PM\" id=\"PM\"  formControlName=\"delivery\" checked>\n            <label>PM</label>\n        </td>\n    </tr>\n    <br>\n    <br>\n\n    <table border=\"1\">\n        <thead>\n            <th>Name</th>\n            <th>Price</th>\n            <th>Quantity</th>\n            <th>Total</th>\n        </thead>\n        <tbody formArrayName=\"items\">\n            <tr *ngFor = \"let row of cartArray.controls; let i = index\" [formGroupName]=\"i\">\n                <td><input type=\"text\" readonly formControlName=\"name\"></td>\n                <td><input type=\"text\" readonly formControlName=\"price\"></td>\n                <td><input type=\"text\" readonly formControlName=\"quantity\"></td>\n                <td><input type=\"text\" readonly formControlName=\"total\"></td>\n            </tr>\n        </tbody>\n    </table>\n    <br>\n    <button type=\"submit\" [disabled]=\"form.invalid\">Cart Out</button>\n</form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}