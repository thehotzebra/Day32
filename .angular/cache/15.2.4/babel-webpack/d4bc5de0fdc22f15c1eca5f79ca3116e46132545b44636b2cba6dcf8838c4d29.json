{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"./cart/cart.component\";\nimport * as i3 from \"./inventory/inventory.component\";\nfunction AppComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Thank you for your purchase. Your cart id is \", ctx_r0.cart.id, \".\\n\");\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor() {\n      this.title = 'fruit_cart_v3';\n      this.inventoryItem = [{\n        id: 1,\n        name: 'apple',\n        quantity: 1,\n        price: 0.9\n      }, {\n        id: 2,\n        name: 'blueberries',\n        quantity: 1,\n        price: 1.1\n      }, {\n        id: 3,\n        name: 'celery',\n        quantity: 1,\n        price: 1.3\n      }];\n    }\n    addtoCart(item) {\n      if (this.cart === undefined) {\n        this.cart = {\n          id: this.generateId(),\n          name: \"\",\n          address: \"\",\n          delivery: \"\",\n          items: [item]\n        };\n      } else {\n        let idx = this.cart.items.findIndex(x => x.name === item.name);\n        // console.log(item.name);\n        // console.log(\"idx\", idx);\n        if (idx === -1) {\n          this.cart.items.push(item);\n          // console.log(\"push >>> \", item);\n        } else {\n          // console.log(\"add quantity >>> \", item);\n          this.cart.items[idx].quantity += item.quantity;\n        }\n      }\n      this.cart = {\n        ...this.cart\n      };\n      console.info(this.cart);\n    }\n    generateId() {\n      return Math.random().toString(36).slice(2, 10);\n    }\n    formSubmission(formSubmitted) {\n      this.formSubmitted = true;\n      console.log(\">>>formSubmitted: \" + formSubmitted);\n    }\n  }\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)();\n  };\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    inputs: {\n      formSubmitted: \"formSubmitted\"\n    },\n    decls: 6,\n    vars: 3,\n    consts: [[3, \"item\", \"onAddItem\"], [3, \"cart123\", \"formSubmitted\"], [4, \"ngIf\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-inventory\", 0);\n        i0.ɵɵlistener(\"onAddItem\", function AppComponent_Template_app_inventory_onAddItem_0_listener($event) {\n          return ctx.addtoCart($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(1, \"app-cart\", 1);\n        i0.ɵɵlistener(\"formSubmitted\", function AppComponent_Template_app_cart_formSubmitted_1_listener($event) {\n          return ctx.formSubmission($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"br\")(3, \"hr\")(4, \"br\");\n        i0.ɵɵtemplate(5, AppComponent_div_5_Template, 2, 1, \"div\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"item\", ctx.inventoryItem);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"cart123\", ctx.cart);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted === true);\n      }\n    },\n    dependencies: [i1.NgIf, i2.CartComponent, i3.InventoryComponent]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}